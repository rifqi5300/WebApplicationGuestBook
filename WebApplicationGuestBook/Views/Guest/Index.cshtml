@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<form method="get" action="~/guest/index">
    <div class="mb-3 row">
        <div class="col-sm-4">
            <input type="text" class="form-control" id="Search" name="Search" required value="">
            <select name="TypeSearch" class ="form-control" id="TypeSearch">
                <option value="Name">Name</option>
                <option value="Address">Address</option>
                <option value="Phone">Phone</option>
                <option value="Email">E-Mail</option>
                <option value="Note">Note</option>
                <option value="Relation">Relation</option>
                <option value="NoKendaraan">NoKendaraan</option>
            </select>
            <button type="submit" class="btn btn-light">Search</button>
        </div>
    </div>

    

</form>

<table class="table">
    <thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Name</th>
            <th scope="col">Address</th>
            <th scope="col">Phone</th>
            <th scope="col">Email</th>
            <th scope="col">Note</th>
            <th scope="col">Relation</th>
            <th scope="col">No Kendaraan</th>
            <th scope="col">Aksi</th>
        </tr>
    </thead>

    @{
        List<Guest> guestList = ViewBag.GuestList;

        foreach (Guest guest in guestList)
        {
            <tbody>
                <tr>
                    <th scope="row">@guest.Id</th>
                    <td>@guest.Name</td>
                    <td>@guest.Address</td>
                    <td>@guest.Phone</td>
                    <td>@guest.Email</td>
                    <td>@guest.Note</td>
                    <td>@guest.Relation</td>
                    <td>@guest.NoKendaraan</td>
                    <td> 
                        <a href="~/guest/editguest/@guest.Id" target="_blank">
                            Edit
                        </a>&nbsp;
                        <a id="deleteGuestButton" href="~/guest/DeleteGuest/@guest.Id">
                            Delete
                        </a>
                    </td>
                </tr>
            </tbody>
            
        }

    }

</table>

<a href="~/guest/addguest" type="button" class="btn btn-link">Add new guest</a>

@section Scripts
{
<script>

    $("#deleteGuestButton").click(function (event){
        event.preventDefault();
        var text = 'Anda yakin ingin menghapus guest?';
        if (confirm(text)) {
            //alert('guest dihapus' + this.href);
            window.location.replace(this.href);
        }
    });

</script>
}
